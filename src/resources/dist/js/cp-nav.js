!function($){void 0===Craft.CpNav&&(Craft.CpNav={}),Craft.CpNav.ToggleMenuItem=Garnish.Base.extend({init:function(t){this.$element=t,this.$a=t.find("a:first"),this.$subnav=t.find(".nav-item__subnav"),this.$toggle=$('<span class="cp-nav-toggle toggle" />'),this.stateKey="cp-nav-toggle-"+t.attr("id"),this.$toggle.appendTo(this.$a),this.addListener(this.$a,"click","clickAnchor"),this.addListener(this.$toggle,"click","clickToggle"),localStorage.getItem(this.stateKey)&&this.$toggle.trigger("click"),this.$a.hasClass("is-active")&&(this.$toggle.addClass("expanded"),this.$subnav.removeClass("hidden"))},clickToggle:function(t){t.preventDefault(),this.$toggle.toggleClass("expanded"),this.$subnav.toggleClass("hidden"),this.$toggle.hasClass("expanded")?localStorage.setItem(this.stateKey,!0):localStorage.removeItem(this.stateKey)},clickAnchor:function(t){$(t.target).hasClass("cp-nav-toggle")&&t.preventDefault()}}),Craft.CpNav.InitMenuItems=Garnish.Base.extend({init:function(){"undefined"!=typeof waitForElm?waitForElm("#global-sidebar #nav.cp-nav-menu").then((t=>{$('.cp-nav-menu [data-subnav-behaviour="openToggle"]').each((function(t,e){new Craft.CpNav.ToggleMenuItem($(e))}))})):console.log("Unable to find function `waitForElm()`.")}}),new Craft.CpNav.InitMenuItems}(jQuery);
//# sourceMappingURL=cp-nav.js.map